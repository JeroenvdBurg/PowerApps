"Farmers As screen.'phoneLayout_HeaderAndGallery_ver3.0'":
    LoadingSpinner: =LoadingSpinner.Data
    OnVisible: =

    RectQuickActionBar4 As rectangle:
        Fill: =RGBA(80, 80, 77, 1)
        Height: =88
        Width: =Parent.Width
        ZIndex: =1

    "FarmerList As gallery.'BrowseLayout_Vertical_ThreeTextVariant_ver4.0'":
        Height: =Parent.Height - FarmerList.Y
        Items: |-
            =SortByColumns(
                AddColumns(
                Filter(
                    AllFarmers,
                    StartsWith(
                        Lower(FirstName),
                        Lower(TextSearchBox2.Text)
                    ) || StartsWith(
                        Lower(MiddleName),
                        Lower(TextSearchBox2.Text)
                    ) || StartsWith(
                        Lower(LastName),
                        Lower(TextSearchBox2.Text)
                )), "Distance" , With(
                        {
                            latA: Latitude,
                            lonA: Longitude,
                            latB: Location.Latitude,
                            lonB: Location.Longitude,
                            r: 6371,
                            p: (Pi() / 180)
                        },
                        Round(
                            (2 * r) * Asin(Sqrt(0.5 - Cos((latA - latB) * p)/2 + Cos(latB * p) * Cos(latA * p) * (1 - Cos((lonA - lonB) * p)) / 2)),
                            2
                        )
                    )),
                If(IsBlank(Location.Latitude), "FirstName", "Distance"),
                If(
                    SortDescending1,
                    Descending,
                    Ascending
                )
                
            )
        Layout: =Layout.Vertical
        OnSelect: |-
            =// Navigate(FarmerDetailScreen, ScreenTransition.Cover , { Farmer_id: ThisItem.id, FullName: Concatenate(ThisItem.FirstName," ",ThisItem.MiddleName,ThisItem.LastName)} )
            Navigate(FarmerStartSceen, ScreenTransition.Cover , { farmerId: ThisItem.id, fullName: Concatenate(ThisItem.FirstName," ",ThisItem.MiddleName,ThisItem.LastName)} )
        ShowScrollbar: =false
        TemplatePadding: =0
        TemplateSize: =109
        Width: =Parent.Width
        Y: =TextSearchBox2.Y + TextSearchBox2.Height
        ZIndex: =1

        Name As label:
            Height: =38
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =24
            Text: =Concatenate(ThisItem.FirstName," ",ThisItem.MiddleName,ThisItem.LastName)
            VerticalAlign: =VerticalAlign.Top
            Width: =450
            X: =32
            Y: =16
            ZIndex: =1

        Distance As label:
            Height: =34
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =18
            Text: |-
                =If(
                    IsBlank(Location.Latitude),
                    "",
                    Concatenate(
                        ThisItem.Distance,
                        " Km"
                    )
                )
            VerticalAlign: =VerticalAlign.Top
            Width: =139
            X: =482
            Y: =9
            ZIndex: =3

        NextArrow2 As icon.ChevronRight:
            AccessibleLabel: =Self.Tooltip
            Color: =RGBA(80, 80, 77, 1)
            Height: =60
            Icon: =Icon.ChevronRight
            OnSelect: =Select(Parent)
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            TabIndex: =0
            Tooltip: ="View item details"
            Width: =60
            X: =Parent.TemplateWidth - Self.Width - 5
            Y: =33
            ZIndex: =4

        Separator3 As rectangle:
            Height: =1
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - 1
            ZIndex: =5

        Status As label:
            FontWeight: =FontWeight.Lighter
            Height: =38
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =18
            Text: =ThisItem.Status
            VerticalAlign: =VerticalAlign.Top
            Width: =450
            X: =32
            Y: =56
            ZIndex: =6

    LblAppName4 As label:
        Height: =88
        Size: =27
        Text: ="Farmers"
        Width: =374
        Wrap: =false
        X: =90
        ZIndex: =2

    IconSortUpDown2 As icon.ArrowsUpDown:
        AccessibleLabel: =IconSortUpDown2.Tooltip
        Height: =88
        Icon: =Icon.Sort
        OnSelect: |-
            =UpdateContext({SortDescending1: !SortDescending1})
        PaddingBottom: =26
        PaddingLeft: =26
        PaddingRight: =26
        PaddingTop: =26
        TabIndex: =0
        Tooltip: =If(SortDescending1, "Lijst in omgekeerde alfabetische volgorde sorteren", "Lijst in alfabetische volgorde sorteren")
        Width: =88
        X: =Parent.Width -  IconSortUpDown2.Width
        ZIndex: =4

    TextSearchBox2 As text:
        Align: =Left
        Default: =""
        Height: =68
        HintText: ="Search on farmer name"
        PaddingLeft: =70
        RadiusBottomLeft: =0
        RadiusBottomRight: =7
        RadiusTopLeft: =0
        RadiusTopRight: =7
        Size: =21
        Width: =Parent.Width
        Y: =RectQuickActionBar4.Height
        ZIndex: =6

    SearchIcon2 As icon.Search:
        Height: =SearchIcon2.Width
        Icon: =Icon.Search
        PaddingBottom: =14
        PaddingLeft: =14
        PaddingRight: =14
        PaddingTop: =14
        Tooltip: ="Zoeken"
        Width: =TextSearchBox2.Height
        X: =TextSearchBox2.X
        Y: =TextSearchBox2.Y
        ZIndex: =7

    Rectangle12 As rectangle:
        Height: =2
        Width: =Parent.Width
        Y: =TextSearchBox2.Y + TextSearchBox2.Height
        ZIndex: =8

    IconBackarrow1_1 As icon.ChevronLeft:
        AccessibleLabel: =Self.Tooltip
        Height: =88
        Icon: =Icon.ChevronLeft
        OnSelect: =Navigate(Home, ScreenTransition.None)
        PaddingBottom: =24
        PaddingLeft: =24
        PaddingRight: =24
        PaddingTop: =24
        TabIndex: =0
        Tooltip: ="Terug naar lijst"
        Width: =88
        X: =2
        ZIndex: =10

